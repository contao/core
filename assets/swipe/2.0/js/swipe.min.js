function Swipe(m,f){var g=function(){};var u=function(C){setTimeout(C||g,0)};var B={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(C){var E=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var D in E){if(C.style[E[D]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!m){return}var d=m.children[0];var s,e,r;f=f||{};var k=parseInt(f.startSlide,10)||0;var v=f.speed||300;function n(){s=d.children;e=new Array(s.length);r=m.getBoundingClientRect().width||m.offsetWidth;d.style.width=(s.length*r)+"px";var D=s.length;while(D--){var C=s[D];C.style.width=r+"px";C.setAttribute("data-index",D);if(B.transitions){C.style.left=(D*-r)+"px";q(D,k>D?-r:(k<D?r:0),0)}}if(!B.transitions){d.style.left=(k*-r)+"px"}m.style.visibility="visible"}function b(){var E,D,H;function F(I,J){if(B.addEventListener){I.addEventListener("click",J,false)}else{if(window.attachEvent){I.attachEvent("onclick",J)}}}E=f.menu.childNodes;for(D=0;D<E.length;D++){H=(" "+E[D].className+" ");if(H.indexOf(" slider-prev ")>-1){F(E[D],function(I){I.returnValue=false;if(I.preventDefault){I.preventDefault()}t();o()})}else{if(H.indexOf(" slider-next ")>-1){F(E[D],function(I){I.returnValue=false;if(I.preventDefault){I.preventDefault()}t();p()})}else{if(H.indexOf(" slider-menu ")>-1){f.menu=E[D];for(var G=0;G<s.length;G++){var C=document.createElement("b");C.innerHTML="â€¢";C.setAttribute("data-index",G);if(G==k){C.className="active"}F(C,(function(I){return(function(J){J.returnValue=false;if(J.preventDefault){J.preventDefault()}t();a(parseInt((this.getAttribute?this.getAttribute("data-index"):I.attributes["data-index"].nodeValue)))})})(C));f.menu.appendChild(C)}}}}}}function j(){for(var C=0;C<s.length;C++){var D=f.menu.children[C];D.className=(parseInt(D.getAttribute?D.getAttribute("data-index"):D.attributes["data-index"].nodeValue)==k)?"active":""}}function o(){if(k){a(k-1)}else{if(f.continuous){a(s.length-1)}}}function p(){if(k<s.length-1){a(k+1)}else{if(f.continuous){a(0)}}}function a(F,C){if(k==F){return}if(B.transitions){var E=Math.abs(k-F)-1;var D=Math.abs(k-F)/(k-F);while(E--){q((F>k?F:k)-E-1,r*D,0)}q(k,r*D,C||v);q(F,0,C||v)}else{i(k*-r,F*-r,C||v)}k=F;if(f.menu){j()}u(f.callback&&f.callback(k,s[k]))}function q(C,E,D){l(C,E,D);e[C]=E}function l(D,G,F){var C=s[D];var E=C&&C.style;if(!E){return}E.webkitTransitionDuration=E.MozTransitionDuration=E.msTransitionDuration=E.OTransitionDuration=E.transitionDuration=F+"ms";E.webkitTransform="translate("+G+"px,0)translateZ(0)";E.msTransform=E.MozTransform=E.OTransform="translateX("+G+"px)"}function i(G,F,C){if(!C){d.style.left=F+"px";return}var E=+new Date;var D=setInterval(function(){var H=+new Date-E;if(H>C){d.style.left=F+"px";if(A){x()}f.transitionEnd&&f.transitionEnd.call(event,k,s[k]);clearInterval(D);return}d.style.left=(((F-G)*(Math.floor((H/C)*100)/100))+G)+"px"},4)}var A=f.auto||0;var w;function x(){w=setTimeout(p,A)}function t(){A=0;clearTimeout(w)}var h={};var y={};var z;var c={handleEvent:function(C){switch(C.type){case"touchstart":this.start(C);break;case"touchmove":this.move(C);break;case"touchend":u(this.end(C));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":u(this.transitionEnd(C));break;case"resize":u(n.call());break}if(f.stopPropagation){C.stopPropagation()}},start:function(C){var D=C.touches[0];h={x:D.pageX,y:D.pageY,time:+new Date};z=undefined;y={};d.addEventListener("touchmove",this,false);d.addEventListener("touchend",this,false)},move:function(C){if(C.touches.length>1||C.scale&&C.scale!==1){return}if(f.disableScroll){C.preventDefault()}var D=C.touches[0];y={x:D.pageX-h.x,y:D.pageY-h.y};if(typeof z=="undefined"){z=!!(z||Math.abs(y.x)<Math.abs(y.y))}if(!z){C.preventDefault();t();y.x=y.x/((!k&&y.x>0||k==s.length-1&&y.x<0)?(Math.abs(y.x)/r+1):1);l(k-1,y.x+e[k-1],0);l(k,y.x+e[k],0);l(k+1,y.x+e[k+1],0)}},end:function(E){var G=+new Date-h.time;var D=Number(G)<250&&Math.abs(y.x)>20||Math.abs(y.x)>r/2;var C=!k&&y.x>0||k==s.length-1&&y.x<0;var F=y.x<0;if(!z){if(D&&!C){if(F){q(k-1,-r,0);q(k,e[k]-r,v);q(k+1,e[k+1]-r,v);k+=1}else{q(k+1,r,0);q(k,e[k]+r,v);q(k-1,e[k-1]+r,v);k+=-1}if(f.menu){j()}f.callback&&f.callback(k,s[k])}else{q(k-1,-r,v);q(k,0,v);q(k+1,r,v)}}d.removeEventListener("touchmove",c,false);d.removeEventListener("touchend",c,false)},transitionEnd:function(C){if(parseInt((C.target.getAttribute?C.target.getAttribute("data-index"):C.target.attributes["data-index"].nodeValue),10)==k){if(A){x()}f.transitionEnd&&f.transitionEnd.call(C,k,s[k])}}};n();if(f.menu){b()}if(A){x()}if(B.addEventListener){if(B.touch){d.addEventListener("touchstart",c,false)}if(B.transitions){d.addEventListener("webkitTransitionEnd",c,false);d.addEventListener("msTransitionEnd",c,false);d.addEventListener("oTransitionEnd",c,false);d.addEventListener("otransitionend",c,false);d.addEventListener("transitionend",c,false)}window.addEventListener("resize",c,false)}else{window.onresize=function(){n()}}return{setup:function(){n()},slide:function(D,C){a(D,C)},prev:function(){t();o()},next:function(){t();p()},getPos:function(){return k},kill:function(){t();d.style.width="auto";d.style.left=0;var D=s.length;while(D--){var C=s[D];C.style.width="100%";C.style.left=0;if(B.transitions){l(D,0,0)}}if(B.addEventListener){d.removeEventListener("touchstart",c,false);d.removeEventListener("webkitTransitionEnd",c,false);d.removeEventListener("msTransitionEnd",c,false);d.removeEventListener("oTransitionEnd",c,false);d.removeEventListener("otransitionend",c,false);d.removeEventListener("transitionend",c,false);window.removeEventListener("resize",c,false)}else{window.onresize=null}}}};