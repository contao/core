/* Contao Open Source CMS, (c) 2005-2014 Leo Feyer, LGPL license */
var Theme={focusInput:function(b){if(b==""){return}var a=$$("#"+b+' input[class^="tl_text"],#'+b+" textarea");if(a&&a.length>0){a[0].focus()}},hoverRow:function(c,d){var a=$(c).getChildren();for(var b=0;b<a.length;b++){if(a[b].nodeName.toLowerCase()=="td"){a[b].setStyle("background-color",(d?"#ebfdd7":""))}}},hoverDiv:function(a,b){if(!b){a.removeAttribute("data-visited")}$(a).setStyle("background-color",(b?"#ebfdd7":""))},toggleSelect:function(b){var a=$(b).getElement("input");if(a){if(a.checked){if(a.get("type")!="radio"){a.checked=""}}else{a.checked="checked"}if(a.get("onclick")=="Backend.toggleCheckboxes(this)"){Backend.toggleCheckboxes(a)}}},fixLabelLastChild:function(){if(Browser.ie7||Browser.ie8){$$(".tl_checkbox_container label:last-child").each(function(a){a.setStyle("margin-bottom",0)})}},stopClickPropagation:function(){$$(".picker_selector").each(function(a){a.getElements("a").each(function(b){b.addEvent("click",function(c){c.stopPropagation()})})});$$(".picker_selector,.click2edit").each(function(a){a.getElements('input[type="checkbox"]').each(function(b){b.addEvent("click",function(c){c.stopPropagation()})})})},setupCtrlClick:function(){$$(".click2edit").each(function(a){a.getElements("a").each(function(b){b.addEvent("click",function(c){c.stopPropagation()})});if(Browser.Features.Touch){a.addEvent("click",function(){if(!a.getAttribute("data-visited")){a.setAttribute("data-visited",1)}else{a.getElements("a").each(function(b){if(b.hasClass("edit")){document.location.href=b.href}});a.removeAttribute("data-visited")}})}else{a.addEvent("click",function(c){var b=Browser.Platform.mac?c.event.metaKey:c.event.ctrlKey;if(b&&c.event.shiftKey){a.getElements("a").each(function(d){if(d.hasClass("editheader")){document.location.href=d.href}})}else{if(b){a.getElements("a").each(function(d){if(d.hasClass("edit")){document.location.href=d.href}})}}})}})},setupTextareaResizing:function(){$$(".tl_textarea").each(function(b){if(Browser.ie6||Browser.ie7||Browser.ie8){return}if(b.hasClass("noresize")||b.retrieve("autogrow")){return}var c=new Element("div",{html:"X",styles:{position:"absolute",top:0,left:"-999em","overflow-x":"hidden"}}).setStyles(b.getStyles("font-size","font-family","width","line-height")).inject(document.body);var a=c.clientHeight;b.addEvent("input",function(){c.set("html",this.get("value").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n|\r\n/g,"<br>X"));var d=Math.max(a,c.getSize().y);if(this.clientHeight!=d){this.tween("height",d)}}).set("tween",{duration:100}).setStyle("height",a+"px");b.fireEvent("input");b.store("autogrow",true)})}};window.addEvent("domready",function(){Theme.fixLabelLastChild();Theme.stopClickPropagation();Theme.setupCtrlClick();Theme.setupTextareaResizing()});window.addEvent("ajax_change",function(){Theme.stopClickPropagation();Theme.setupCtrlClick();Theme.setupTextareaResizing()});