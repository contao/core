#!/usr/bin/env php
<?php

/**
 * Contao Open Source CMS
 *
 * Copyright (c) 2005-2014 Leo Feyer
 *
 * @package Core
 * @link    https://contao.org
 * @license http://www.gnu.org/licenses/lgpl-3.0.html LGPL
 */

// Help
if (in_array('-h', $argv)) {
	echo "  Usage: {$argv[0]} [-h]\n";
	echo "  Synchronize the file system with the database.\n\n";
	echo "  Options:\n";
	echo "    -h  Show this help text\n";
	exit;
}

// Initialize the system
define('TL_MODE', 'BE');
include dirname(dirname(__DIR__)) . '/system/initialize.php';

// Synchronize
$strLog = Dbafs::syncFiles();

// Confirm
echo "  Synchronization complete (see $strLog).\n";
