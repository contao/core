/* CodeMirror, copyright (C) 2011 by Marijn Haverbeke, MIT-style License. */
var CodeMirror=function(){function a(b,c){function bA(a){return a>=0&&a<bb.length}function bC(a){bd=null;var b={line:0,ch:0};bM(b,{line:bb.length-1,ch:bb[bb.length-1].text.length},O(a),b,b),bd=new j,bk=!0}function bD(a){var b=[];for(var c=0,d=bb.length;c<d;++c)b.push(bb[c].text);return b.join("\n")}function bE(a){function h(a){var b=cM(a,!0);if(b&&!H(b,e)){be||bK(),e=b,cj(c,b),bk=!1;var d=cd();if(b.line>=d.to||b.line<d.from)f=setTimeout(cZ(function(){h(a)}),150)}}for(var b=p(a);b!=x;b=b.parentNode)if(b.parentNode==R&&b!=T)return;for(var b=p(a);b!=x;b=b.parentNode)if(b.parentNode==V)return g.onGutterClick&&g.onGutterClick(bB,N(V.childNodes,b)+bq,a),m(a);var c=cM(a);switch(q(a)){case 3:v&&!A&&cN(a);return;case 2:c&&cl(c.line,c.ch,!0);return}if(!c){p(a)==E&&m(a);return}be||bK();var d=+(new Date);if(bj>d-400)return m(a),cs(c.line);if(bi>d-400)return bj=d,m(a),cr(c);bi=d;var e=c,f;if(u&&!H(bf.from,bf.to)&&!I(c,bf.from)&&!I(bf.to,c))return;m(a),cl(c.line,c.ch,!0);var i=r(n,"mousemove",cZ(function(a){clearTimeout(f),m(a),h(a)}),!0),j=r(n,"mouseup",cZ(function(a){clearTimeout(f);var b=cM(a);b&&cj(c,b),m(a),b_(),bk=!0,i(),j()}),!0)}function bF(a){a.preventDefault();var b=cM(a,!0),c=a.dataTransfer.files;if(!b||g.readOnly)return;if(c&&c.length&&window.FileReader&&window.File){function d(a,c){var d=new FileReader;d.onload=function(){f[c]=d.result,++h==e&&bR(f.join(""),cn(b),cn(b))},d.readAsText(a)}var e=c.length,f=Array(e),h=0;for(var i=0;i<e;++i)d(c[i],i)}else try{var f=a.dataTransfer.getData("Text");f&&bR(f,b,b)}catch(a){}}function bG(a){var b=bV();L(b),a.dataTransfer.setDragImage(K,0,0),a.dataTransfer.setData("Text",b)}function bH(a){be||bK();var b=a.keyCode;w&&b==27&&(a.returnValue=!1);var c=(A?a.metaKey:a.ctrlKey)&&!a.altKey,d=a.ctrlKey||a.altKey||a.metaKey;b==16||a.shiftKey?bg=bg||(bf.inverted?bf.to:bf.from):bg=null;if(g.onKeyEvent&&g.onKeyEvent(bB,l(a)))return;if(b==33||b==34)return co(b==34),m(a);if(c&&(b==36||b==35||A&&(b==38||b==40)))return cp(b==36||b==38),m(a);if(c&&b==65)return cq(),m(a);if(!g.readOnly){if(!d&&b==13)return;if(!d&&b==9&&cu(a.shiftKey))return m(a);if(c&&b==90)return bO(),m(a);if(c&&(a.shiftKey&&b==90||b==89))return bP(),m(a)}if(b==36&&g.smartHome)return cv(),m(a);bt=(c?"c":"")+(a.altKey?"a":"")+b;if(bf.inverted&&B[bt]===!0){var e=P(D);e&&(bh={anchor:e.start},Q(D,e.start,e.start))}!c&&!a.altKey&&(bt=null),bY(bt)}function bI(a){if(g.onKeyEvent&&g.onKeyEvent(bB,l(a)))return;bh&&(bh=null,bk=!0),a.keyCode==16&&(bg=null)}function bJ(a){if(g.onKeyEvent&&g.onKeyEvent(bB,l(a)))return;if(g.electricChars&&ba.electricChars){var b=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode);ba.electricChars.indexOf(b)>-1&&setTimeout(cZ(function(){cw(bf.to.line,"smart")}),50)}var c=a.keyCode;c==13?(g.readOnly||ct(),m(a)):!a.ctrlKey&&!a.altKey&&!a.metaKey&&c==9&&g.tabMode!="default"?m(a):bY(bt)}function bK(){if(g.readOnly=="nocursor")return;be||(g.onFocus&&g.onFocus(bB),be=!0,x.className.search(/\bCodeMirror-focused\b/)==-1&&(x.className+=" CodeMirror-focused"),bo||b$()),bX(),cO()}function bL(){be&&(g.onBlur&&g.onBlur(bB),be=!1,x.className=x.className.replace(" CodeMirror-focused","")),clearInterval(_),setTimeout(function(){be||(bg=null)},150)}function bM(a,b,c,d,e){if(bd){var f=[];for(var h=a.line,i=b.line+1;h<i;++h)f.push(bb[h].text);bd.addChange(a.line,c.length,f);while(bd.done.length>g.undoDepth)bd.done.shift()}bQ(a,b,c,d,e)}function bN(a,b){var c=a.pop();if(c){var d=[],e=c.start+c.added;for(var f=c.start;f<e;++f)d.push(bb[f].text);b.push({start:c.start,added:c.old.length,old:d});var g=cn({line:c.start+c.old.length-1,ch:M(d[d.length-1],c.old[c.old.length-1])});bQ({line:c.start,ch:0},{line:e-1,ch:bb[e-1].text.length},c.old,g,g),bk=!0}}function bO(){bN(bd.done,bd.undone)}function bP(){bN(bd.undone,bd.done)}function bQ(a,b,c,d,e){function s(a){return a<=Math.min(b.line,b.line+q)?a:a+q}var f=!1,g=bw.length;for(var i=a.line;i<=b.line;++i)if(bb[i].text.length==g){f=!0;break}var j=b.line-a.line,k=bb[a.line],l=bb[b.line];if(k==l)if(c.length==1)k.replace(a.ch,b.ch,c[0]);else{l=k.split(b.ch,c[c.length-1]);var m=[a.line+1,j];k.replace(a.ch,k.text.length,c[0]);for(var i=1,n=c.length-1;i<n;++i)m.push(new h(c[i]));m.push(l),bb.splice.apply(bb,m)}else if(c.length==1)k.replace(a.ch,k.text.length,c[0]+l.text.slice(b.ch)),bb.splice(a.line+1,j);else{var m=[a.line+1,j-1];k.replace(a.ch,k.text.length,c[0]),l.replace(0,b.ch,c[c.length-1]);for(var i=1,n=c.length-1;i<n;++i)m.push(new h(c[i]));bb.splice.apply(bb,m)}for(var i=a.line,n=i+c.length;i<n;++i){var o=bb[i].text;o.length>g&&(bw=o,g=o.length,bx=null,f=!1)}if(f){g=0,bw="",bx=null;for(var i=0,n=bb.length;i<n;++i){var o=bb[i].text;o.length>g&&(g=o.length,bw=o)}}var p=[],q=c.length-j-1;for(var i=0,o=bc.length;i<o;++i){var r=bc[i];r<a.line?p.push(r):r>b.line&&p.push(r+q)}c.length<5?(cT(a.line,a.line+c.length),p.push(a.line+c.length)):p.push(a.line),bc=p,cV(100),bl.push({from:a.line,to:b.line+1,diff:q}),bm={from:a,to:b,text:c},ck(d,e,s(bf.from.line),s(bf.to.line)),R.style.height=bb.length*cJ()+2*cK()+"px"}function bR(a,b,c){function d(d){if(I(d,b))return d;if(!I(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,g=d.ch;return d.line==c.line&&(g+=a[a.length-1].length-(c.ch-(c.line==b.line?b.ch:0))),{line:f,ch:g}}b=cn(b),c?c=cn(c):c=b,a=O(a);var e;return bT(a,b,c,function(a){return e=a,{from:d(bf.from),to:d(bf.to)}}),e}function bS(a,b){bT(O(a),bf.from,bf.to,function(a){return b=="end"?{from:a,to:a}:b=="start"?{from:bf.from,to:bf.from}:{from:bf.from,to:a}})}function bT(a,b,c,d){var e=a.length==1?a[0].length+b.ch:a[a.length-1].length,f=d({line:b.line+a.length-1,ch:e});bM(b,c,a,f.from,f.to)}function bU(a,b){var c=a.line,d=b.line;if(c==d)return bb[c].text.slice(a.ch,b.ch);var e=[bb[c].text.slice(a.ch)];for(var f=c+1;f<d;++f)e.push(bb[f].text);return e.push(bb[d].text.slice(0,b.ch)),e.join("\n")}function bV(){return bU(bf.from,bf.to)}function bX(){if(bW)return;Z.set(2e3,function(){cW(),bZ(),be&&bX(),cX()})}function bY(a){function c(){cW();var d=bZ();d&&a&&(d=="moved"&&B[a]==null&&(B[a]=!0),d=="changed"&&(B[a]=!1)),!d&&!b?(b=!0,Z.set(80,c)):(bW=!1,bX()),cX()}var b=!1;bW=!0,Z.set(20,c)}function bZ(){function f(a,c){var d=0;for(;;){var e=b.indexOf("\n",d);if(e==-1||(b.charAt(e-1)=="\r"?e-1:e)>=a)return{line:c,ch:a-d};++c,d=e+1}}if(bo||!be)return;var a=!1,b=D.value,c=P(D);if(!c)return!1;var a=bu.text!=b,d=bh,e=a||c.start!=bu.start||c.end!=(d?bu.start:bu.end);if(!e&&!d)return!1;if(a){bg=bh=null;if(g.readOnly)return bk=!0,"changed"}var h=f(c.start,bu.from),i=f(c.end,bu.from);if(d){var j=c.start==d.anchor?i:h,k=bg?bf.to:c.start==d.anchor?h:i;(bf.inverted=I(j,k))?(h=j,i=k):(bh=null,h=k,i=j)}h.line==i.line&&h.line==bf.from.line&&h.line==bf.to.line&&!bg&&(bk=!1);if(a){var l=0,m=b.length,n=Math.min(m,bu.text.length),o,p=bu.from,q=-1;while(l<n&&(o=b.charAt(l))==bu.text.charAt(l))++l,o=="\n"&&(p++,q=l);var r=q>-1?l-q:l,s=bu.to-1,t=bu.text.length;for(;;){o=bu.text.charAt(t);if(b.charAt(m)!=o){++m,++t;break}o=="\n"&&s--;if(t<=l||m<=l)break;--m,--t}var q=bu.text.lastIndexOf("\n",t-1),u=q==-1?t:t-q-1;bM({line:p,ch:r},{line:s,ch:u},O(b.slice(l,m)),h,i);if(p!=s||h.line!=p)bk=!0}else ck(h,i);return bu.text=b,bu.start=c.start,bu.end=c.end,a?"changed":e?"moved":!1}function b$(){var a=[],b=Math.max(0,bf.from.line-1),c=Math.min(bb.length,bf.to.line+2);for(var d=b;d<c;++d)a.push(bb[d].text);a=D.value=a.join(y);var e=bf.from.ch,f=bf.to.ch;for(var d=b;d<bf.from.line;++d)e+=y.length+bb[d].text.length;for(var d=b;d<bf.to.line;++d)f+=y.length+bb[d].text.length;bu={text:a,from:b,to:c,start:e,end:f},Q(D,e,bh?e:f)}function b_(){g.readOnly!="nocursor"&&D.focus()}function ca(){if(!X.getBoundingClientRect)return;var a=X.getBoundingClientRect(),b=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;(a.top<0||a.bottom>b)&&X.scrollIntoView()}function cb(){var a=cH(bf.inverted?bf.from:bf.to);return cc(a.x,a.y,a.x,a.yBot)}function cc(a,b,c,d){var e=cL(),f=cK(),h=cJ();b+=f,d+=f,a+=e,c+=e;var i=E.clientHeight,j=E.scrollTop,k=!1,l=!0;b<j?(E.scrollTop=Math.max(0,b-2*h),k=!0):d>j+i&&(E.scrollTop=d+h-i,k=!0);var m=E.clientWidth,n=E.scrollLeft,o=g.fixedGutter?U.clientWidth:0;return a<n+o?(a<50&&(a=0),E.scrollLeft=Math.max(0,a-10-o),k=!0):c>m+n&&(E.scrollLeft=c+10-m,k=!0,c>R.clientWidth&&(l=!1)),k&&g.onScroll&&g.onScroll(bB),l}function cd(){var a=cJ(),b=E.scrollTop-cK();return{from:Math.min(bb.length,Math.max(0,Math.floor(b/a))),to:Math.min(bb.length,Math.ceil((b+E.clientHeight)/a))}}function ce(a){if(!E.clientWidth){bq=br=0;return}var b=a===!0?[]:[{from:bq,to:br,domStart:0}];for(var c=0,d=a.length||0;c<d;++c){var e=a[c],f=[],g=e.diff||0;for(var h=0,i=b.length;h<i;++h){var j=b[h];e.to<=j.from?f.push({from:j.from+g,to:j.to+g,domStart:j.domStart}):j.to<=e.from?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from,domStart:j.domStart}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g,domStart:j.domStart+(e.to-j.from)}))}b=f}var k=cd(),l=Math.min(bq,Math.max(k.from-3,0)),m=Math.min(bb.length,Math.max(br,k.to+3)),n=[],o=0,p=br-bq,q=l,r=0;for(var c=0,d=b.length;c<d;++c){var j=b[c];if(j.to<=l)continue;if(j.from>=m)break;if(j.domStart>o||j.from>q)n.push({from:q,to:j.from,domSize:j.domStart-o,domStart:o}),r+=j.from-q;q=j.to,o=j.domStart+(j.to-j.from)}if(o!=p||q!=m)r+=Math.abs(m-q),n.push({from:q,to:m,domSize:p-o,domStart:o}),m-q!=p-o&&(bp=!0);if(!n.length)return;Y.style.display="none",r>(k.to-k.from)*.3?cf(l=Math.max(k.from-10,0),m=Math.min(k.to+7,bb.length)):cg(n),Y.style.display="";var s=l!=bq||m!=br||bs!=E.clientHeight;bq=l,br=m,T.style.top=l*cJ()+"px",s&&(bs=E.clientHeight,R.style.height=bb.length*cJ()+2*cK()+"px"),(s||bp)&&ch(),bx==null&&(bx=cE(bw)),bx>E.clientWidth?(W.style.width=bx+"px",R.style.width="",R.style.width=E.scrollWidth+"px"):W.style.width=R.style.width="";if(Y.childNodes.length!=br-bq)throw new Error("BAD PATCH! "+JSON.stringify(n)+" size="+(br-bq)+" nodes="+Y.childNodes.length);ci()}function cf(a,b){var c=[],d={line:a,ch:0},e=I(bf.from,d)&&!I(bf.to,d);for(var f=a;f<b;++f){var g=null,h=null;e?(g=0,bf.to.line==f&&(e=!1,h=bf.to.ch)):bf.from.line==f&&(bf.to.line==f?(g=bf.from.ch,h=bf.to.ch):(e=!0,g=bf.from.ch)),c.push(bb[f].getHTML(g,h,!0))}Y.innerHTML=c.join("")}function cg(a){var b=bf.from.line,c=bf.to.line,d=0,e=t&&n.createElement("div");for(var f=0,g=a.length;f<g;++f){var h=a[f],i=h.to-h.from-h.domSize,j=Y.childNodes[h.domStart+h.domSize+d]||null;if(t)for(var k=Math.max(-i,h.domSize);k>0;--k)Y.removeChild(j?j.previousSibling:Y.lastChild);else if(i){for(var k=Math.max(0,i);k>0;--k)Y.insertBefore(n.createElement("pre"),j);for(var k=Math.max(0,-i);k>0;--k)Y.removeChild(j?j.previousSibling:Y.lastChild)}var l=Y.childNodes[h.domStart+d],m=b<h.from&&c>=h.from;for(var k=h.from;k<h.to;++k){var o=null,p=null;m?(o=0,c==k&&(m=!1,p=bf.to.ch)):b==k&&(c==k?(o=bf.from.ch,p=bf.to.ch):(m=!0,o=bf.from.ch)),t?(e.innerHTML=bb[k].getHTML(o,p,!0),Y.insertBefore(e.firstChild,j)):(l.innerHTML=bb[k].getHTML(o,p,!1),l.className=bb[k].className||"",l=l.nextSibling)}d+=i}}function ch(){if(!g.gutter&&!g.lineNumbers)return;var a=T.offsetHeight,b=E.clientHeight;U.style.height=(a-b<2?b:a)+"px";var c=[];for(var d=bq;d<Math.max(br,bq+1);++d){var e=bb[d].gutterMarker,f=g.lineNumbers?d+g.firstLineNumber:null;e&&e.text?f=e.text.replace("%N%",f!=null?f:""):f==null&&(f=" "),c.push(e&&e.style?'<pre class="'+e.style+'">':"<pre>",f,"</pre>")}U.style.display="none",V.innerHTML=c.join("");var h=String(bb.length).length,i=V.firstChild,j=G(i),k="";while(j.length+k.length<h)k+=" ";k&&i.insertBefore(n.createTextNode(k),i.firstChild),U.style.display="",W.style.marginLeft=U.offsetWidth+"px",bp=!1}function ci(){var a=bf.inverted?bf.from:bf.to,b=cJ(),c=cF(a.line,a.ch),d=a.line*b-E.scrollTop;C.style.top=Math.max(Math.min(d,E.offsetHeight),0)+"px",C.style.left=c-E.scrollLeft+"px",H(bf.from,bf.to)?(X.style.top=(a.line-bq)*b+"px",X.style.left=c+"px",X.style.display=""):X.style.display="none"}function cj(a,b){var c=bg&&cn(bg);c&&(I(c,a)?a=c:I(b,c)&&(b=c)),ck(a,b)}function ck(a,b,c,d){if(H(bf.from,a)&&H(bf.to,b))return;if(I(b,a)){var e=b;b=a,a=e}H(a,b)?bf.inverted=!1:H(a,bf.to)?bf.inverted=!1:H(b,bf.from)&&(bf.inverted=!0),c==null&&(c=bf.from.line,d=bf.to.line),H(a,b)?H(bf.from,bf.to)||bl.push({from:c,to:d+1}):H(bf.from,bf.to)?bl.push({from:a.line,to:b.line+1}):(H(a,bf.from)||(a.line<c?bl.push({from:a.line,to:Math.min(b.line,c)+1}):bl.push({from:c,to:Math.min(d,a.line)+1})),H(b,bf.to)||(b.line<d?bl.push({from:Math.max(c,a.line),to:d+1}):bl.push({from:Math.max(a.line,d),to:b.line+1}))),bf.from=a,bf.to=b,bn=!0}function cl(a,b,c){var d=cn({line:a,ch:b||0});(c?cj:ck)(d,d)}function cm(a){return Math.max(0,Math.min(a,bb.length-1))}function cn(a){if(a.line<0)return{line:0,ch:0};if(a.line>=bb.length)return{line:bb.length-1,ch:bb[bb.length-1].text.length};var b=a.ch,c=bb[a.line].text.length;return b==null||b>c?{line:a.line,ch:c}:b<0?{line:a.line,ch:0}:a}function co(a){var b=Math.floor(E.clientHeight/cJ()),c=bf.inverted?bf.from:bf.to;cl(c.line+Math.max(b-1,1)*(a?1:-1),c.ch,!0)}function cp(a){var b=a?{line:0,ch:0}:{line:bb.length-1,ch:bb[bb.length-1].text.length};cj(b,b)}function cq(){var a=bb.length-1;ck({line:0,ch:0},{line:a,ch:bb[a].text.length})}function cr(a){var b=bb[a.line].text,c=a.ch,d=a.ch;while(c>0&&/\w/.test(b.charAt(c-1)))--c;while(d<b.length&&/\w/.test(b.charAt(d)))++d;cj({line:a.line,ch:c},{line:a.line,ch:d})}function cs(a){cj({line:a,ch:0},{line:a,ch:bb[a].text.length})}function ct(){bS("\n","end"),g.enterMode!="flat"&&cw(bf.from.line,g.enterMode=="keep"?"prev":"smart")}function cu(a){function b(a){if(H(bf.from,bf.to))return cw(bf.from.line,a);var b=bf.to.line-(bf.to.ch?0:1);for(var c=bf.from.line;c<=b;++c)cw(c,a)}bg=null;switch(g.tabMode){case"default":return!1;case"indent":b("smart");break;case"classic":if(H(bf.from,bf.to)){a?cw(bf.from.line,"smart"):bS("\t","end");break};case"shift":b(a?"subtract":"add")}return!0}function cv(){var a=Math.max(0,bb[bf.from.line].text.search(/\S/));cl(bf.from.line,bf.from.ch<=a&&bf.from.ch?0:a,!0)}function cw(a,b){if(b=="smart")if(!ba.indent)b="prev";else var c=cS(a);var d=bb[a],e=d.indentation(),f=d.text.match(/^\s*/)[0],h;b=="prev"?a?h=bb[a-1].indentation():h=0:b=="smart"?h=ba.indent(c,d.text.slice(f.length)):b=="add"?h=e+g.indentUnit:b=="subtract"&&(h=e-g.indentUnit),h=Math.max(0,h);var i=h-e;if(!i){if(bf.from.line!=a&&bf.to.line!=a)return;var j=f}else{var j="",k=0;if(g.indentWithTabs)for(var l=Math.floor(h/z);l;--l)k+=z,j+="\t";while(k<h)++k,j+=" "}bR(j,{line:a,ch:0},{line:a,ch:f.length})}function cx(){ba=a.getMode(g,g.mode);for(var b=0,c=bb.length;b<c;++b)bb[b].stateAfter=null;bc=[0],cV()}function cy(){var a=g.gutter||g.lineNumbers;U.style.display=a?"":"none",a?bp=!0:Y.parentNode.style.marginLeft=0}function cz(a,b,c){function e(a,b,c,e){var a=bb[a],f=a.addMark(b,c,e);f.line=a,d.push(f)}a=cn(a),b=cn(b);var d=[];if(a.line==b.line)e(a.line,a.ch,b.ch,c);else{e(a.line,a.ch,null,c);for(var f=a.line+1,g=b.line;f<g;++f)e(f,0,null,c);e(b.line,0,b.ch,c)}return bl.push({from:a.line,to:b.line+1}),function(){var a,b;for(var c=0;c<d.length;++c){var e=d[c],f=N(bb,e.line);e.line.removeMark(e),f>-1&&(a==null&&(a=f),b=f)}a!=null&&bl.push({from:a,to:b+1})}}function cA(a,b,c){return typeof a=="number"&&(a=bb[cm(a)]),a.gutterMarker={text:b,style:c},bp=!0,a}function cB(a){typeof a=="number"&&(a=bb[cm(a)]),a.gutterMarker=null,bp=!0}function cC(a,b){if(typeof a=="number"){var c=a;a=bb[cm(a)]}else{var c=N(bb,a);if(c==-1)return null}return a.className!=b&&(a.className=b,bl.push({from:c,to:c+1})),a}function cD(a){if(typeof a=="number"){var b=a;a=bb[a];if(!a)return null}else{var b=N(bb,a);if(b==-1)return null}var c=a.gutterMarker;return{line:b,text:a.text,markerText:c&&c.text,markerClass:c&&c.style}}function cE(a){return S.innerHTML="<pre><span>x</span></pre>",S.firstChild.firstChild.firstChild.nodeValue=a,S.firstChild.firstChild.offsetWidth||10}function cF(a,b){return b==0?0:(S.innerHTML="<pre><span>"+bb[a].getHTML(null,null,!1,b)+"</span></pre>",S.firstChild.firstChild.offsetWidth)}function cG(a,b){function e(a){return S.innerHTML="<pre><span>"+c.getHTML(null,null,!1,a)+"</span></pre>",S.firstChild.firstChild.offsetWidth}if(b<=0)return 0;var c=bb[a],d=c.text,f=0,g=0,h=d.length,i,j=Math.min(h,Math.ceil(b/cE("x")));for(;;){var k=e(j);if(k<=b&&j<h)j=Math.min(h,Math.ceil(j*1.2));else{i=k,h=j;break}}if(b>i)return h;j=Math.floor(h*.8),k=e(j),k<b&&(f=j,g=k);for(;;){if(h-f<=1)return i-b>b-g?f:h;var l=Math.ceil((f+h)/2),m=e(l);m>b?(h=l,i=m):(f=l,g=m)}}function cH(a,b){var c=cJ(),d=a.line-(b?bq:0);return{x:cF(a.line,a.ch),y:d*c,yBot:(d+1)*c}}function cI(a){var b=cH(a,!0),c=F(W);return{x:c.left+b.x,y:c.top+b.y,yBot:c.top+b.yBot}}function cJ(){var a=Y.childNodes.length;return a?Y.offsetHeight/a||1:(S.innerHTML="<pre>x</pre>",S.firstChild.offsetHeight||1)}function cK(){return W.offsetTop}function cL(){return W.offsetLeft}function cM(a,b){var c=F(E,!0),d,e;try{d=a.clientX,e=a.clientY}catch(a){return null}if(!b&&(d-c.left>E.clientWidth||e-c.top>E.clientHeight))return null;var f=F(W,!0),g=bq+Math.floor((e-f.top)/cJ());return cn({line:g,ch:cG(cm(g),d-f.left)})}function cN(a){function e(){var a=O(D.value).join("\n");a!=d&&cZ(bS)(a,"end"),C.style.position="relative",D.style.cssText=c,bo=!1,b$(),bX()}var b=cM(a);if(!b||window.opera)return;(H(bf.from,bf.to)||I(b,bf.from)||!I(b,bf.to))&&cZ(cl)(b.line,b.ch);var c=D.style.cssText;C.style.position="absolute",D.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",bo=!0;var d=D.value=bV();b_(),Q(D,0,D.value.length);if(v){o(a);var f=r(window,"mouseup",function(){f(),setTimeout(e,20)},!0)}else setTimeout(e,50)}function cO(){clearInterval(_);var a=!0;X.style.visibility="",_=setInterval(function(){X.style.visibility=(a=!a)?"":"hidden"},650)}function cQ(a){function p(a,b,c){if(!a.text)return;var d=a.styles,e=g?0:a.text.length-1,f;for(var i=g?0:d.length-2,j=g?d.length:-2;i!=j;i+=2*h){var k=d[i];if(d[i+1]!=null&&d[i+1]!=m){e+=h*k.length;continue}for(var l=g?0:k.length-1,p=g?k.length:-1;l!=p;l+=h,e+=h)if(e>=b&&e<c&&o.test(f=k.charAt(l))){var q=cP[f];if(q.charAt(1)==">"==g)n.push(f);else{if(n.pop()!=q.charAt(0))return{pos:e,match:!1};if(!n.length)return{pos:e,match:!0}}}}}var b=bf.inverted?bf.from:bf.to,c=bb[b.line],d=b.ch-1,e=d>=0&&cP[c.text.charAt(d)]||cP[c.text.charAt(++d)];if(!e)return;var f=e.charAt(0),g=e.charAt(1)==">",h=g?1:-1,i=c.styles;for(var j=d+1,k=0,l=i.length;k<l;k+=2)if((j-=i[k].length)<=0){var m=i[k+1];break}var n=[c.text.charAt(d)],o=/[(){}[\]]/;for(var k=b.line,l=g?Math.min(k+100,bb.length):Math.max(-1,k-100);k!=l;k+=h){var c=bb[k],q=k==b.line,r=p(c,q&&g?d+1:0,q&&!g?d:c.text.length);if(r)break}r||(r={pos:null,match:!1});var m=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=cz({line:b.line,ch:d},{line:b.line,ch:d+1},m),t=r.pos!=null?cz({line:k,ch:r.pos},{line:k,ch:r.pos+1},m):function(){},u=cZ(function(){s(),t()});a?setTimeout(u,800):bv=u}function cR(a){var b,c;for(var d=a,e=a-40;d>e;--d){if(d==0)return 0;var f=bb[d-1];if(f.stateAfter)return d;var g=f.indentation();if(c==null||b>g)c=d-1,b=g}return c}function cS(a){var b=cR(a),c=b&&bb[b-1].stateAfter;c?c=e(ba,c):c=f(ba);for(var d=b;d<a;++d){var g=bb[d];g.highlight(ba,c),g.stateAfter=e(ba,c)}return a<bb.length&&!bb[a].stateAfter&&bc.push(a),c}function cT(a,b){var c=cS(a);for(var d=a;d<b;++d){var f=bb[d];f.highlight(ba,c),f.stateAfter=e(ba,c)}}function cU(){var a=+(new Date)+g.workTime,b=bc.length;while(bc.length){if(!bb[bq].stateAfter)var c=bq;else var c=bc.pop();if(c>=bb.length)continue;var d=cR(c),h=d&&bb[d-1].stateAfter;h?h=e(ba,h):h=f(ba);var i=0,j=ba.compareStates,k=!1;for(var l=d,m=bb.length;l<m;++l){var n=bb[l],o=n.stateAfter;if(+(new Date)>a){bc.push(l),cV(g.workDelay),k&&bl.push({from:c,to:l+1});return}var p=n.highlight(ba,h);p&&(k=!0),n.stateAfter=e(ba,h);if(j){if(o&&j(o,h))break}else if(p!==!1||!o)i=0;else if(++i>3)break}k&&bl.push({from:c,to:l+1})}b&&g.onHighlightComplete&&g.onHighlightComplete(bB)}function cV(a){if(!bc.length)return;$.set(a,cZ(cU))}function cW(){bk=null,bl=[],bm=bn=!1}function cX(){var a=!1;bn&&(a=!cb()),bl.length?ce(bl):(bn&&ci(),bp&&ch()),a&&cb(),bn&&(ca(),cO()),be&&!bo&&(bk===!0||bk!==!1&&bn)&&b$(),bn&&g.matchBrackets&&setTimeout(cZ(function(){bv&&(bv(),bv=null),cQ(!1)}),20);var b=bm;bn&&g.onCursorActivity&&g.onCursorActivity(bB),b&&g.onChange&&bB&&g.onChange(bB,b)}function cZ(a){return function(){cY++||cW();try{var b=a.apply(this,arguments)}finally{--cY||cX()}return b}}function c$(a,b,c){this.atOccurrence=!1,c==null&&(c=typeof a=="string"&&a==a.toLowerCase()),b&&typeof b=="object"?b=cn(b):b={line:0,ch:0},this.pos={from:b,to:b};if(typeof a!="string")this.matches=function(b,c){if(b){var d=bb[c.line].text.slice(0,c.ch),e=d.match(a),f=0;while(e){var g=d.indexOf(e[0]);f+=g,d=d.slice(g+1);var h=d.match(a);if(h)e=h;else break;f++}}else var d=bb[c.line].text.slice(c.ch),e=d.match(a),f=e&&c.ch+d.indexOf(e[0]);if(e)return{from:{line:c.line,ch:f},to:{line:c.line,ch:f+e[0].length},match:e}};else{c&&(a=a.toLowerCase());var d=c?function(a){return a.toLowerCase()}:function(a){return a},e=a.split("\n");e.length==1?this.matches=function(b,c){var e=d(bb[c.line].text),f=a.length,g;if(b?c.ch>=f&&(g=e.lastIndexOf(a,c.ch-f))!=-1:(g=e.indexOf(a,c.ch))!=-1)return{from:{line:c.line,ch:g},to:{line:c.line,ch:g+f}}}:this.matches=function(a,b){var c=b.line,f=a?e.length-1:0,g=e[f],h=d(bb[c].text),i=a?h.indexOf(g)+g.length:h.lastIndexOf(g);if(a?i>=b.ch||i!=g.length:i<=b.ch||i!=h.length-g.length)return;for(;;){if(a?!c:c==bb.length-1)return;h=d(bb[c+=a?-1:1].text),g=e[a?--f:++f];if(f>0&&f<e.length-1){if(h!=g)return;continue}var j=a?h.lastIndexOf(g):h.indexOf(g)+g.length;if(a?j!=h.length-g.length:j!=g.length)return;var k={line:b.line,ch:i},l={line:c,ch:j};return{from:a?l:k,to:a?k:l}}}}}var g={},i=a.defaults;for(var k in i)i.hasOwnProperty(k)&&(g[k]=(c&&c.hasOwnProperty(k)?c:i)[k]);var n=g.document,x=n.createElement("div");x.className="CodeMirror",x.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+g.theme+'">'+'<div style="position: relative">'+'<div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div>'+'<div style="position: relative">'+'<div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div>'+'<div class="CodeMirror-lines"><div style="position: relative" draggable="true">'+'<pre class="CodeMirror-cursor">&#160;</pre>'+"<div></div>"+"</div></div></div></div></div>",b.appendChild?b.appendChild(x):b(x);var C=x.firstChild,D=C.firstChild,E=x.lastChild,R=E.firstChild,S=R.firstChild,T=S.nextSibling,U=T.firstChild,V=U.firstChild,W=U.nextSibling.firstChild,X=W.firstChild,Y=X.nextSibling;g.tabindex!=null&&(D.tabindex=g.tabindex),!g.gutter&&!g.lineNumbers&&(U.style.display="none");var Z=new s,$=new s,_,ba,bb=[new h("")],bc,bd=new j,be;cx();var bf={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq=0,br=0,bs=0,bt=null,bu,bv,bw="",bx;cZ(function(){bC(g.value||""),bk=!1})(),r(E,"mousedown",cZ(bE)),r(W,"dragstart",bG),v||r(E,"contextmenu",cN),r(E,"scroll",function(){ce([]),g.fixedGutter&&(U.style.left=E.scrollLeft+"px"),g.onScroll&&g.onScroll(bB)}),r(window,"resize",function(){ce(!0)}),r(D,"keyup",cZ(bI)),r(D,"keydown",cZ(bH)),r(D,"keypress",cZ(bJ)),r(D,"focus",bK),r(D,"blur",bL),r(E,"dragenter",o),r(E,"dragover",o),r(E,"drop",cZ(bF)),r(E,"paste",function(){b_(),bY()}),r(D,"paste",function(){bY()}),r(D,"cut",function(){bY()});var by;try{by=n.activeElement==D}catch(bz){}by?setTimeout(bK,20):bL();var bB=x.CodeMirror={getValue:bD,setValue:cZ(bC),getSelection:bV,replaceSelection:cZ(bS),focus:function(){b_(),bK(),bY()},setOption:function(a,b){g[a]=b,a=="lineNumbers"||a=="gutter"||a=="firstLineNumber"?cZ(cy)():a=="mode"||a=="indentUnit"?cx():a=="readOnly"&&b=="nocursor"?D.blur():a=="theme"&&(E.className=E.className.replace(/cm-s-\w+/,"cm-s-"+b))},getOption:function(a){return g[a]},undo:cZ(bO),redo:cZ(bP),indentLine:cZ(function(a,b){bA(a)&&cw(a,b==null?"smart":b?"add":"subtract")}),historySize:function(){return{undo:bd.done.length,redo:bd.undone.length}},matchBrackets:cZ(function(){cQ(!0)}),getTokenAt:function(a){return a=cn(a),bb[a.line].getTokenAt(ba,cS(a.line),a.ch)},getStateAfter:function(a){return a=cm(a==null?bb.length-1:a),cS(a+1)},cursorCoords:function(a){return a==null&&(a=bf.inverted),cI(a?bf.from:bf.to)},charCoords:function(a){return cI(cn(a))},coordsChar:function(a){var b=F(W),c=cm(Math.min(bb.length-1,bq+Math.floor((a.y-b.top)/cJ())));return cn({line:c,ch:cG(cm(c),a.x-b.left)})},getSearchCursor:function(a,b,c){return new c$(a,b,c)},markText:cZ(function(a,b,c){return cZ(cz(a,b,c))}),setMarker:cZ(cA),clearMarker:cZ(cB),setLineClass:cZ(cC),lineInfo:cD,addWidget:function(a,b,c,d,e){a=cH(cn(a));var f=a.yBot,g=a.x;b.style.position="absolute",R.appendChild(b);if(d=="over")f=a.y;else if(d=="near"){var h=Math.max(E.offsetHeight,bb.length*cJ()),i=Math.max(R.clientWidth,W.clientWidth)-cL();a.yBot+b.offsetHeight>h&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight),g+b.offsetWidth>i&&(g=i-b.offsetWidth)}b.style.top=f+cK()+"px",b.style.left=b.style.right="",e=="right"?(g=R.clientWidth-b.offsetWidth,b.style.right="0px"):(e=="left"?g=0:e=="middle"&&(g=(R.clientWidth-b.offsetWidth)/2),b.style.left=g+cL()+"px"),c&&cc(g,f,g+b.offsetWidth,f+b.offsetHeight)},lineCount:function(){return bb.length},getCursor:function(a){return a==null&&(a=bf.inverted),J(a?bf.from:bf.to)},somethingSelected:function(){return!H(bf.from,bf.to)},setCursor:cZ(function(a,b){b==null&&typeof a.line=="number"?cl(a.line,a.ch):cl(a,b)}),setSelection:cZ(function(a,b){ck(cn(a),cn(b||a))}),getLine:function(a){if(bA(a))return bb[a].text},setLine:cZ(function(a,b){bA(a)&&bR(b,{line:a,ch:0},{line:a,ch:bb[a].text.length})}),removeLine:cZ(function(a){bA(a)&&bR("",{line:a,ch:0},cn({line:a+1,ch:0}))}),replaceRange:cZ(bR),getRange:function(a,b){return bU(cn(a),cn(b))},operation:function(a){return cZ(a)()},refresh:function(){ce(!0)},getInputField:function(){return D},getWrapperElement:function(){return x},getScrollerElement:function(){return E},getGutterElement:function(){return U}},bW=!1,cP={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},cY=0;c$.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(a){function d(a){var c={line:a,ch:0};return b.pos={from:c,to:c},b.atOccurrence=!1,!1}var b=this,c=cn(a?this.pos.from:this.pos.to);for(;;){if(this.pos=this.matches(a,c))return this.atOccurrence=!0,this.pos.match||!0;if(a){if(!c.line)return d(0);c={line:c.line-1,ch:bb[c.line-1].text.length}}else{if(c.line==bb.length-1)return d(bb.length);c={line:c.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return J(this.pos.from)},to:function(){if(this.atOccurrence)return J(this.pos.to)},replace:function(a){var b=this;this.atOccurrence&&cZ(function(){b.pos.to=bR(a,b.pos.from,b.pos.to)})()}};for(var c_ in d)d.propertyIsEnumerable(c_)&&!bB.propertyIsEnumerable(c_)&&(bB[c_]=d[c_]);return bB}function e(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function f(a,b,c){return a.startState?a.startState(b,c):!0}function g(a){this.pos=this.start=0,this.string=a}function h(a,b){this.styles=b||[a,null],this.stateAfter=null,this.text=a,this.marked=this.gutterMarker=this.className=null}function i(a,b,c,d){for(var e=0,f=0,g=0;f<b;e+=2){var h=c[e],i=f+h.length;g==0?(i>a&&d.push(h.slice(a-f,Math.min(h.length,b-f)),c[e+1]),i>=a&&(g=1)):g==1&&(i>b?d.push(h.slice(0,b-f),c[e+1]):d.push(h,c[e+1])),f=i}}function j(){this.time=0,this.done=[],this.undone=[]}function k(){o(this)}function l(a){return a.stop||(a.stop=k),a}function m(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function n(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function o(a){m(a),n(a)}function p(a){return a.target||a.srcElement}function q(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function r(a,b,c,d){function e(a){c(a||window.event)}if(typeof a.addEventListener=="function"){a.addEventListener(b,e,!1);if(d)return function(){a.removeEventListener(b,e,!1)}}else{a.attachEvent("on"+b,e);if(d)return function(){a.detachEvent("on"+b,e)}}}function s(){this.id=null}function D(a,b){b==null&&(b=a.search(/[^\s\u00a0]/),b==-1&&(b=a.length));for(var c=0,d=0;c<b;++c)a.charAt(c)=="\t"?d+=z-d%z:++d;return d}function E(a){return a.currentStyle?a.currentStyle:window.getComputedStyle(a,null)}function F(a,b){var c=a.ownerDocument.body,d=0,e=0,f=!1;for(var g=a;g;g=g.offsetParent)d+=g.offsetLeft,e+=g.offsetTop,b&&E(g).position=="fixed"&&(f=!0);var h=b&&!f?null:c;for(var g=a.parentNode;g!=h;g=g.parentNode)g.scrollLeft!=null&&(d-=g.scrollLeft,e-=g.scrollTop);return{left:d,top:e}}function G(a){return a.textContent||a.innerText||a.nodeValue||""}function H(a,b){return a.line==b.line&&a.ch==b.ch}function I(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function J(a){return{line:a.line,ch:a.ch}}function L(a){return K.innerText=K.textContent=a,K.innerHTML}function M(a,b){if(!b)return a?a.length:0;if(!a)return b.length;for(var c=a.length,d=b.length;c>=0&&d>=0;--c,--d)if(a.charAt(c)!=b.charAt(d))break;return d+1}function N(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}a.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,smartHome:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var b={},c={};a.defineMode=function(c,d){!a.defaults.mode&&c!="null"&&(a.defaults.mode=c),b[c]=d},a.defineMIME=function(a,b){c[a]=b},a.getMode=function(d,e){typeof e=="string"&&c.hasOwnProperty(e)&&(e=c[e]);if(typeof e=="string")var f=e,g={};else if(e!=null)var f=e.name,g=e;var h=b[f];return h?h(d,g||{}):(window.console&&console.warn("No mode "+f+" found, falling back to plain text."),a.getMode(d,"text/plain"))},a.listModes=function(){var a=[];for(var c in b)b.propertyIsEnumerable(c)&&a.push(c);return a},a.listMIMEs=function(){var a=[];for(var b in c)c.propertyIsEnumerable(b)&&a.push({mime:b,mode:c[b]});return a};var d={};a.defineExtension=function(a,b){d[a]=b},a.fromTextArea=function(b,c){function d(){b.value=h.getValue()}c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex);if(b.form){var e=r(b.form,"submit",d,!0);if(typeof b.form.submit=="function"){var f=b.form.submit;function g(){d(),b.form.submit=f,b.form.submit(),b.form.submit=g}b.form.submit=g}}b.style.display="none";var h=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return h.save=d,h.toTextArea=function(){d(),b.parentNode.removeChild(h.getWrapperElement()),b.style.display="",b.form&&(e(),typeof b.form.submit=="function"&&(b.form.submit=f))},h},a.startState=f,a.copyState=e,g.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if(typeof a=="string")var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){var b=this.pos;while(this.eat(a));return this.pos>b},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return D(this.string,this.start)},indentation:function(){return D(this.string)},match:function(a,b,c){if(typeof a!="string"){var e=this.string.slice(this.pos).match(a);return e&&b!==!1&&(this.pos+=e[0].length),e}function d(a){return c?a.toLowerCase():a}if(d(this.string).indexOf(d(a),this.pos)==this.pos)return b!==!1&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=g,h.prototype={replace:function(a,b,c){var d=[],e=this.marked;i(0,a,this.styles,d),c&&d.push(c,null),i(b,this.text.length,this.styles,d),this.styles=d,this.text=this.text.slice(0,a)+c+this.text.slice(b),this.stateAfter=null;if(e){var f=c.length-(b-a),g=this.text.length;function h(a){return a<=Math.min(b,b+f)?a:a+f}for(var j=0;j<e.length;++j){var k=e[j],l=!1;k.from>=g?l=!0:(k.from=h(k.from),k.to!=null&&(k.to=h(k.to)));if(l||k.from>=k.to)e.splice(j,1),j--}}},split:function(a,b){var c=[b,null];return i(a,this.text.length,this.styles,c),new h(b+this.text.slice(a),c)},addMark:function(a,b,c){var d=this.marked,e={from:a,to:b,style:c};return this.marked==null&&(this.marked=[]),this.marked.push(e),this.marked.sort(function(a,b){return a.from-b.from}),e},removeMark:function(a){var b=this.marked;if(!b)return;for(var c=0;c<b.length;++c)if(b[c]==a){b.splice(c,1);break}},highlight:function(a,b){var c=new g(this.text),d=this.styles,e=0,f=!1,h=d[0],i;this.text==""&&a.blankLine&&a.blankLine(b);while(!c.eol()){var j=a.token(c,b),k=this.text.slice(c.start,c.pos);c.start=c.pos,e&&d[e-1]==j?d[e-2]+=k:k&&(!f&&(d[e+1]!=j||e&&d[e-2]!=i)&&(f=!0),d[e++]=k,d[e++]=j,i=h,h=d[e]);if(c.pos>5e3){d[e++]=this.text.slice(c.pos),d[e++]=null;break}}return d.length!=e&&(d.length=e,f=!0),e&&d[e-2]!=i&&(f=!0),f||(d.length<5&&this.text.length<10?null:!1)},getTokenAt:function(a,b,c){var d=this.text,e=new g(d);while(e.pos<c&&!e.eol()){e.start=e.pos;var f=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),className:f||null,state:b}},indentation:function(){return D(this.text)},getHTML:function(a,b,c,d){function f(a,b){if(!a)return;b?e.push('<span class="',b,'">',L(a),"</span>"):e.push(L(a))}var e=[];c&&e.push(this.className?'<pre class="'+this.className+'">':"<pre>");var g=this.styles,h=this.text,i=this.marked;a==b&&(a=null);var j=h.length;d!=null&&(j=Math.min(d,j));if(!h&&d==null)f(" ",a!=null&&b==null?"CodeMirror-selected":null);else if(!i&&a==null)for(var k=0,l=0;l<j;k+=2){var m=g[k],n=m.length;l+n>j&&(m=m.slice(0,j-l)),l+=n,f(m,"cm-"+g[k+1])}else{var o=0,k=0,p="",q,r=0,s=-1,t=null;function u(){i&&(s+=1,t=s<i.length?i[s]:null)}u();while(o<j){var v=j,w="";if(a!=null)if(a>o)v=a;else if(b==null||b>o)w=" CodeMirror-selected",b!=null&&(v=Math.min(v,b));while(t&&t.to!=null&&t.to<=o)u();t&&(t.from>o?v=Math.min(v,t.from):(w+=" "+t.style,t.to!=null&&(v=Math.min(v,t.to))));for(;;){var x=o+p.length,y=q;w&&(y=q?q+w:w),f(x>v?p.slice(0,v-o):p,y);if(x>=v){p=p.slice(v-o),o=v;break}o=x,p=g[k++],q="cm-"+g[k++]}}a!=null&&b==null&&f(" ","CodeMirror-selected")}return c&&e.push("</pre>"),e.join("")}},j.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+(new Date),e=this.done[this.done.length-1];if(d-this.time>400||!e||e.start>a+b||e.start+e.added<a-e.added+e.old.length)this.done.push({start:a,added:b,old:c});else{var f=0;if(a<e.start){for(var g=e.start-a-1;g>=0;--g)e.old.unshift(c[g]);e.added+=e.start-a,e.start=a}else e.start<a&&(f=a-e.start,b+=f);for(var g=e.added-f,h=c.length;g<h;++g)e.old.push(c[g]);e.added<b&&(e.added=b)}this.time=d}},s.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}};var t=function(){var a=document.createElement("pre");return a.innerHTML=" ",!a.innerHTML}(),u=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var a=document.createElement("div");return"ondragstart"in a&&"ondrop"in a}(),v=/gecko\/\d{7}/i.test(navigator.userAgent),w=/MSIE \d/.test(navigator.userAgent),x=/Apple Computer/.test(navigator.vendor),y="\n";(function(){var a=document.createElement("textarea");a.value="foo\nbar",a.value.indexOf("\r")>-1&&(y="\r\n")})();var z=8,A=/Mac/.test(navigator.platform),B={};for(var C=35;C<=40;++C)B[C]=B["c"+C]=!0;var K=document.createElement("div");a.htmlEscape=L;var O,P,Q;return"\n\nb".split(/\n/).length!=3?O=function(a){var b=0,c,d=[];while((c=a.indexOf("\n",b))>-1)d.push(a.slice(b,a.charAt(c-1)=="\r"?c-1:c)),b=c+1;return d.push(a.slice(b)),d}:O=function(a){return a.split(/\r?\n/)},a.splitLines=O,window.getSelection?(P=function(a){try{return{start:a.selectionStart,end:a.selectionEnd}}catch(b){return null}},x?Q=function(a,b,c){b==c?a.setSelectionRange(b,c):(a.setSelectionRange(b,c-1),window.getSelection().modify("extend","forward","character"))}:Q=function(a,b,c){try{a.setSelectionRange(b,c)}catch(d){}}):(P=function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){return null}if(!b||b.parentElement()!=a)return null;var d=a.value,e=d.length,f=a.createTextRange();f.moveToBookmark(b.getBookmark());var g=a.createTextRange();g.collapse(!1);if(f.compareEndPoints("StartToEnd",g)>-1)return{start:e,end:e};var h=-f.moveStart("character",-e);for(var i=d.indexOf("\r");i>-1&&i<h;i=d.indexOf("\r",i+1),h++);if(f.compareEndPoints("EndToEnd",g)>-1)return{start:h,end:e};var j=-f.moveEnd("character",-e);for(var i=d.indexOf("\r");i>-1&&i<j;i=d.indexOf("\r",i+1),j++);return{start:h,end:j}},Q=function(a,b,c){var d=a.createTextRange();d.collapse(!0);var e=d.duplicate(),f=0,g=a.value;for(var h=g.indexOf("\n");h>-1&&h<b;h=g.indexOf("\n",h+1))++f;d.move("character",b-f);for(;h>-1&&h<c;h=g.indexOf("\n",h+1))++f;e.move("character",c-f),d.setEndPoint("EndToEnd",e),d.select()}),a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null"),a}();CodeMirror.runMode=function(a,b,c){var d=CodeMirror.getMode({indentUnit:2},b),e=c.nodeType==1;if(e){var f=c,g=[];c=function(a,b){a=="\n"?g.push("<br>"):b?g.push('<span class="cm-'+CodeMirror.htmlEscape(b)+'">'+CodeMirror.htmlEscape(a)+"</span>"):g.push(CodeMirror.htmlEscape(a))}}var h=CodeMirror.splitLines(a),i=CodeMirror.startState(d);for(var j=0,k=h.length;j<k;++j){j&&c("\n");var l=new CodeMirror.StringStream(h[j]);while(!l.eol()){var m=d.token(l,i);c(l.current(),m),l.start=l.pos}}e&&(f.innerHTML=g.join(""))};CodeMirror.overlayParser=function(a,b,c){return{startState:function(){return{base:CodeMirror.startState(a),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(a,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(d,e){return d.start==e.basePos&&(e.baseCur=a.token(d,e.base),e.basePos=d.pos),d.start==e.overlayPos&&(d.pos=d.start,e.overlayCur=b.token(d,e.overlay),e.overlayPos=d.pos),d.pos=Math.min(e.basePos,e.overlayPos),d.eol()&&(e.basePos=e.overlayPos=0),e.overlayCur==null?e.baseCur:e.baseCur!=null&&c?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:function(b,c){return a.indent(b.base,c)},electricChars:a.electricChars}};CodeMirror.defineMode("clike",function(a,b){function k(a,b){var c=a.next();if(g[c]){var h=g[c](a,b);if(h!==!1)return h}if(c=='"'||c=="'")return b.tokenize=l(c),b.tokenize(a,b);if(/[\[\]{}\(\),;\:\.]/.test(c))return j=c,null;if(/\d/.test(c))return a.eatWhile(/[\w\.]/),"number";if(c=="/"){if(a.eat("*"))return b.tokenize=m,m(a,b);if(a.eat("/"))return a.skipToEnd(),"comment"}if(i.test(c))return a.eatWhile(i),"operator";a.eatWhile(/[\w\$_]/);var k=a.current();return d.propertyIsEnumerable(k)?(e.propertyIsEnumerable(k)&&(j="newstatement"),"keyword"):f.propertyIsEnumerable(k)?"atom":"word"}function l(a){return function(b,c){var d=!1,e,f=!1;while((e=b.next())!=null){if(e==a&&!d){f=!0;break}d=!d&&e=="\\"}if(f||!d&&!h)c.tokenize=k;return"string"}}function m(a,b){var c=!1,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=k;break}c=d=="*"}return"comment"}function n(a,b,c,d,e){this.indented=a,this.column=b,this.type=c,this.align=d,this.prev=e}function o(a,b,c){return a.context=new n(a.indented,b,c,null,a.context)}function p(a){var b=a.context.type;if(b==")"||b=="]"||b=="}")a.indented=a.context.indented;return a.context=a.context.prev}var c=a.indentUnit,d=b.keywords||{},e=b.blockKeywords||{},f=b.atoms||{},g=b.hooks||{},h=b.multiLineStrings,i=/[+\-*&%=<>!?|\/]/,j;return{startState:function(a){return{tokenize:null,context:new n((a||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(a,b){var c=b.context;a.sol()&&(c.align==null&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0);if(a.eatSpace())return null;j=null;var d=(b.tokenize||k)(a,b);if(d=="comment"||d=="meta")return d;c.align==null&&(c.align=!0);if(j!=";"&&j!=":"||c.type!="statement")if(j=="{")o(b,a.column(),"}");else if(j=="[")o(b,a.column(),"]");else if(j=="(")o(b,a.column(),")");else if(j=="}"){while(c.type=="statement")c=p(b);c.type=="}"&&(c=p(b));while(c.type=="statement")c=p(b)}else j==c.type?p(b):(c.type=="}"||c.type=="top"||c.type=="statement"&&j=="newstatement")&&o(b,a.column(),"statement");else p(b);return b.startOfLine=!1,d},indent:function(a,b){if(a.tokenize!=k&&a.tokenize!=null)return 0;var d=b&&b.charAt(0),e=a.context,f=d==e.type;return e.type=="statement"?e.indented+(d=="{"?0:c):e.align?e.column+(f?0:1):e.indented+(f?0:c)},electricChars:"{}"}}),function(){function a(a){var b={},c=a.split(" ");for(var d=0;d<c.length;++d)b[c[d]]=!0;return b}function c(a,b){return b.startOfLine?(a.skipToEnd(),"meta"):!1}function d(a,b){var c;while((c=a.next())!=null)if(c=='"'&&!a.eat('"')){b.tokenize=null;break}return"string"}var b="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:a(b),blockKeywords:a("case do else for if switch while struct"),atoms:a("null"),hooks:{"#":c}}),CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:a(b+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t"),blockKeywords:a("catch class do else finally for if struct switch try while"),atoms:a("true false null"),hooks:{"#":c}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:a("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:a("catch class do else finally for if switch try while"),atoms:a("true false null"),hooks:{"@":function(a,b){return a.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:a("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),atoms:a("true false null"),hooks:{"@":function(a,b){return a.eat('"')?(b.tokenize=d,d(a,b)):(a.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-groovy",{name:"clike",keywords:a("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package property private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),atoms:a("true false null"),hooks:{"@":function(a,b){return a.eatWhile(/[\w\$_]/),"meta"}}})}();CodeMirror.defineMode("css",function(a){function d(a,b){return c=b,a}function e(a,b){var c=a.next();if(c=="@")return a.eatWhile(/[\w\\\-]/),d("meta",a.current());if(c=="/"&&a.eat("*"))return b.tokenize=f,f(a,b);if(c=="<"&&a.eat("!"))return b.tokenize=g,g(a,b);if(c=="=")d(null,"compare");else return c!="~"&&c!="|"||!a.eat("=")?c=='"'||c=="'"?(b.tokenize=h(c),b.tokenize(a,b)):c=="#"?(a.eatWhile(/[\w\\\-]/),d("atom","hash")):c=="!"?(a.match(/^\s*\w*/),d("keyword","important")):/\d/.test(c)?(a.eatWhile(/[\w.%]/),d("number","unit")):/[,.+>*\/]/.test(c)?d(null,"select-op"):/[;{}:\[\]]/.test(c)?d(null,c):(a.eatWhile(/[\w\\\-]/),d("variable","variable")):d(null,"compare")}function f(a,b){var c=!1,f;while((f=a.next())!=null){if(c&&f=="/"){b.tokenize=e;break}c=f=="*"}return d("comment","comment")}function g(a,b){var c=0,f;while((f=a.next())!=null){if(c>=2&&f==">"){b.tokenize=e;break}c=f=="-"?c+1:0}return d("comment","comment")}function h(a){return function(b,c){var f=!1,g;while((g=b.next())!=null){if(g==a&&!f)break;f=!f&&g=="\\"}return f||(c.tokenize=e),d("string","string")}}var b=a.indentUnit,c;return{startState:function(a){return{tokenize:e,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var d=b.tokenize(a,b),e=b.stack[b.stack.length-1];if(c=="hash"&&e=="rule")d="atom";else if(d=="variable")if(e=="rule")d="number";else if(!e||e=="@media{")d="tag";return e=="rule"&&/^[\{\};]$/.test(c)&&b.stack.pop(),c=="{"?e=="@media"?b.stack[b.stack.length-1]="@media{":b.stack.push("{"):c=="}"?b.stack.pop():c=="@media"?b.stack.push("@media"):e=="{"&&c!="comment"&&b.stack.push("rule"),d},indent:function(a,c){var d=a.stack.length;return/^\}/.test(c)&&(d-=a.stack[a.stack.length-1]=="rule"?2:1),a.baseIndent+d*b},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("diff",function(){return{token:function(a){var b=a.next();a.skipToEnd();if(b=="+")return"plus";if(b=="-")return"minus";if(b=="@")return"rangeinfo"}}}),CodeMirror.defineMIME("text/x-diff","diff");CodeMirror.defineMode("htmlmixed",function(a,b){function f(a,b){var f=c.token(a,b.htmlState);return f=="tag"&&a.current()==">"&&b.htmlState.context&&(/^script$/i.test(b.htmlState.context.tagName)?(b.token=h,b.localState=d.startState(c.indent(b.htmlState,"")),b.mode="javascript"):/^style$/i.test(b.htmlState.context.tagName)&&(b.token=i,b.localState=e.startState(c.indent(b.htmlState,"")),b.mode="css")),f}function g(a,b,c){var d=a.current(),e=d.search(b);return e>-1&&a.backUp(d.length-e),c}function h(a,b){return a.match(/^<\/\s*script\s*>/i,!1)?(b.token=f,b.curState=null,b.mode="html",f(a,b)):g(a,/<\/\s*script\s*>/,d.token(a,b.localState))}function i(a,b){return a.match(/^<\/\s*style\s*>/i,!1)?(b.token=f,b.localState=null,b.mode="html",f(a,b)):g(a,/<\/\s*style\s*>/,e.token(a,b.localState))}var c=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),d=CodeMirror.getMode(a,"javascript"),e=CodeMirror.getMode(a,"css");return{startState:function(){var a=c.startState();return{token:f,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var b=CodeMirror.copyState(a.token==i?e:d,a.localState);return{token:a.token,localState:b,mode:a.mode,htmlState:CodeMirror.copyState(c,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,b){return a.token==f||/^\s*<\//.test(b)?c.indent(a.htmlState,b):a.token==h?d.indent(a.localState,b):e.indent(a.localState,b)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed");CodeMirror.defineMode("javascript",function(a,b){function g(a,b,c){return b.tokenize=c,c(a,b)}function h(a,b){var c=!1,d;while((d=a.next())!=null){if(d==b&&!c)return!1;c=!c&&d=="\\"}return c}function k(a,b,c){return i=a,j=c,b}function l(a,b){var c=a.next();if(c=='"'||c=="'")return g(a,b,m(c));if(/[\[\]{}\(\),;\:\.]/.test(c))return k(c);if(c=="0"&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),k("number","number");if(/\d/.test(c))return a.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),k("number","number");if(c=="/")return a.eat("*")?g(a,b,n):a.eat("/")?(a.skipToEnd(),k("comment","comment")):b.reAllowed?(h(a,"/"),a.eatWhile(/[gimy]/),k("regexp","string")):(a.eatWhile(f),k("operator",null,a.current()));if(c=="#")return a.skipToEnd(),k("error","error");if(f.test(c))return a.eatWhile(f),k("operator",null,a.current());a.eatWhile(/[\w\$_]/);var d=a.current(),i=e.propertyIsEnumerable(d)&&e[d];return i?k(i.type,i.style,d):k("variable","variable",d)}function m(a){return function(b,c){return h(b,a)||(c.tokenize=l),k("string","string")}}function n(a,b){var c=!1,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=l;break}c=d=="*"}return k("comment","comment")}function p(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,d!=null&&(this.align=d)}function q(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function r(a,b,c,e,f){var g=a.cc;s.state=a,s.stream=f,s.marked=null,s.cc=g,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);for(;;){var h=g.length?g.pop():d?D:C;if(h(c,e)){while(g.length&&g[g.length-1].lex)g.pop()();return s.marked?s.marked:c=="variable"&&q(a,e)?"variable-2":b}}}function t(){for(var a=arguments.length-1;a>=0;a--)s.cc.push(arguments[a])}function u(){return t.apply(null,arguments),!0}function v(a){var b=s.state;if(b.context){s.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}function x(){s.state.context||(s.state.localVars=w),s.state.context={prev:s.state.context,vars:s.state.localVars}}function y(){s.state.localVars=s.state.context.vars,s.state.context=s.state.context.prev}function z(a,b){var c=function(){var c=s.state;c.lexical=new p(c.indented,s.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function A(){var a=s.state;a.lexical.prev&&(a.lexical.type==")"&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function B(a){return function b(b){return b==a?u():a==";"?t():u(arguments.callee)}}function C(a){return a=="var"?u(z("vardef"),K,B(";"),A):a=="keyword a"?u(z("form"),D,C,A):a=="keyword b"?u(z("form"),C,A):a=="{"?u(z("}"),J,A):a==";"?u():a=="function"?u(Q):a=="for"?u(z("form"),B("("),z(")"),M,B(")"),A,C,A):a=="variable"?u(z("stat"),F):a=="switch"?u(z("form"),D,z("}","switch"),B("{"),J,A,A):a=="case"?u(D,B(":")):a=="default"?u(B(":")):a=="catch"?u(z("form"),x,B("("),R,B(")"),C,A,y):t(z("stat"),D,B(";"),A)}function D(a){return o.hasOwnProperty(a)?u(E):a=="function"?u(Q):a=="keyword c"?u(D):a=="("?u(z(")"),D,B(")"),A,E):a=="operator"?u(D):a=="["?u(z("]"),I(D,"]"),A,E):a=="{"?u(z("}"),I(H,"}"),A,E):u()}function E(a,b){if(a=="operator"&&/\+\+|--/.test(b))return u(E);if(a=="operator")return u(D);if(a==";")return;if(a=="(")return u(z(")"),I(D,")"),A,E);if(a==".")return u(G,E);if(a=="[")return u(z("]"),D,B("]"),A,E)}function F(a){return a==":"?u(A,C):t(E,B(";"),A)}function G(a){if(a=="variable")return s.marked="property",u()}function H(a){a=="variable"&&(s.marked="property");if(o.hasOwnProperty(a))return u(B(":"),D)}function I(a,b){function c(d){return d==","?u(a,c):d==b?u():u(B(b))}return function d(d){return d==b?u():t(a,c)}}function J(a){return a=="}"?u():t(C,J)}function K(a,b){return a=="variable"?(v(b),u(L)):u()}function L(a,b){if(b=="=")return u(D,L);if(a==",")return u(K)}function M(a){return a=="var"?u(K,O):a==";"?t(O):a=="variable"?u(N):t(O)}function N(a,b){return b=="in"?u(D):u(E,O)}function O(a,b){return a==";"?u(P):b=="in"?u(D):u(D,B(";"),P)}function P(a){a!=")"&&u(D)}function Q(a,b){if(a=="variable")return v(b),u(Q);if(a=="(")return u(z(")"),x,I(R,")"),A,C,y)}function R(a,b){if(a=="variable")return v(b),u()}var c=a.indentUnit,d=b.json,e=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"};return{"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,"undefined":f,NaN:f,Infinity:f}}(),f=/[+\-*&%=<>!?|]/,i,j,o={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},s={state:null,column:null,marked:null,cc:null},w={name:"this",next:{name:"arguments"}};return A.lex=!0,{startState:function(a){return{tokenize:l,reAllowed:!0,cc:[],lexical:new p((a||0)-c,0,"block",!1),localVars:null,context:null,indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);return i=="comment"?c:(b.reAllowed=i=="operator"||i=="keyword c"||i.match(/^[\[{}\(,;:]$/),r(b,c,i,j,a))},indent:function(a,b){if(a.tokenize!=l)return 0;var d=b&&b.charAt(0),e=a.lexical,f=e.type,g=d==f;return f=="vardef"?e.indented+4:f=="form"&&d=="{"?e.indented:f=="stat"||f=="form"?e.indented+c:e.info=="switch"&&!g?e.indented+(/^(?:case|default)\b/.test(b)?c:2*c):e.align?e.column+(g?0:1):e.indented+(g?0:c)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});(function(){function a(a){var b={},c=a.split(" ");for(var d=0;d<c.length;++d)b[c[d]]=!0;return b}function b(a){return function(b,c){return b.match(a)?c.tokenize=null:b.skipToEnd(),"string"}}var c={name:"clike",keywords:a("abstract and array as break case catch cfunction class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw try use var while xor returndie echo empty exit eval include include_once isset list require require_once print unset"),blockKeywords:a("catch do else elseif for foreach if switch try while"),atoms:a("true false null TRUE FALSE NULL"),multiLineStrings:!0,hooks:{$:function(a,b){return a.eatWhile(/[\w\$_]/),"variable-2"},"<":function(a,c){return a.match(/<</)?(a.eatWhile(/[\w\.]/),c.tokenize=b(a.current().slice(3)),c.tokenize(a,c)):!1}}};CodeMirror.defineMode("php",function(a,b){function h(a,b){if(b.curMode==d){var c=d.token(a,b.curState);return c=="meta"&&/^<\?/.test(a.current())?(b.curMode=g,b.curState=b.php,b.curClose=/^\?>/,b.mode="php"):c=="tag"&&a.current()==">"&&b.curState.context&&(/^script$/i.test(b.curState.context.tagName)?(b.curMode=e,b.curState=e.startState(d.indent(b.curState,"")),b.curClose=/^<\/\s*script\s*>/i,b.mode="javascript"):/^style$/i.test(b.curState.context.tagName)&&(b.curMode=f,b.curState=f.startState(d.indent(b.curState,"")),b.curClose=/^<\/\s*style\s*>/i,b.mode="css")),c}return a.match(b.curClose,!1)?(b.curMode=d,b.curState=b.html,b.curClose=null,b.mode="html",h(a,b)):b.curMode.token(a,b.curState)}var d=CodeMirror.getMode(a,"text/html"),e=CodeMirror.getMode(a,"text/javascript"),f=CodeMirror.getMode(a,"text/css"),g=CodeMirror.getMode(a,c);return{startState:function(){var a=d.startState();return{html:a,php:g.startState(),curMode:b.startOpen?g:d,curState:b.startOpen?g.startState():a,curClose:b.startOpen?/^\?>/:null,mode:b.startOpen?"php":"html"}},copyState:function(a){var b=a.html,c=CodeMirror.copyState(d,b),e=a.php,f=CodeMirror.copyState(g,e),h;return a.curState==b?h=c:a.curState==e?h=f:h=CodeMirror.copyState(a.curMode,a.curState),{html:c,php:f,curMode:a.curMode,curState:h,curClose:a.curClose}},token:h,indent:function(a,b){return a.curMode!=g&&/^\s*<\//.test(b)||a.curMode==g&&/^\?>/.test(b)?d.indent(a.html,b):a.curMode.indent(a.curState,b)},electricChars:"/{}:"}}),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",c)})();CodeMirror.defineMode("sql",function(a,b){function j(a,b,c){return b.tokenize=c,c(a,b)}function l(a,b){return k=a,b}function m(a,b){var c=a.next();return c=='"'||c=="'"||c=="`"?j(a,b,n(c)):/[\[\]{}\(\)\.]/.test(c)?l(c):c==","||c==";"?"sql-separator":/\d/.test(c)?(a.eatWhile(/[\w\.]/),l("number","sql-number")):c=="/"?a.eat("*")?j(a,b,o):(a.eatWhile(i),l("operator","sql-operator")):c=="-"?a.eat("-")?(a.skipToEnd(),l("comment","sql-comment")):(a.eatWhile(i),l("operator","sql-operator")):c=="#"?(a.skipToEnd(),l("comment","sql-comment")):c=="@"||c=="$"?(a.eatWhile(/[\w\d\$_]/),l("word","sql-var")):i.test(c)?(a.eatWhile(i),l("operator","sql-operator")):/[()]/.test(c)?"sql-punctuation":(a.eatWhile(/[\w\$_]/),d&&d.propertyIsEnumerable(a.current().toLowerCase())?l("keyword","sql-keyword"):e&&e.propertyIsEnumerable(a.current().toLowerCase())?l("keyword","sql-function"):f&&f.propertyIsEnumerable(a.current().toLowerCase())?l("keyword","sql-type"):g&&g.propertyIsEnumerable(a.current().toLowerCase())?l("keyword","sql-operators"):l("word","sql-word"))}function n(a){return function(b,c){var d=!1,e,f=!1;while((e=b.next())!=null){if(e==a&&!d){f=!0;break}d=!d&&e=="\\"}if(f||!d&&!h)c.tokenize=m;var g=a=="`"?"sql-quoted-word":"sql-literal";return l("string",g)}}function o(a,b){var c=!1,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=m;break}c=d=="*"}return l("comment","sql-comment")}var c=a.indentUnit,d=b.keywords,e=b.functions,f=b.types,g=b.operators,h=b.multiLineStrings,i=/[+\-*&%=<>!?:\/|]/,k;return{startState:function(a){return{tokenize:m,indented:0,startOfLine:!0}},token:function(a,b){if(a.eatSpace())return null;var c=b.tokenize(a,b);return c},electricChars:")"}}),function(){function a(a){var b={},c=a.split(" ");for(var d=0;d<c.length;++d)b[c[d]]=!0;return b}var b="alter grant revoke primary key table start top transaction select update insert delete create describe from into values where join inner left natural and or in not xor like using on order group by asc desc limit offset union all as distinct set commit rollback replace view database separator if exists null truncate status show lock unique having drop procedure begin end delimiter call else leave declare temporary then",c="abs acos adddate aes_encrypt aes_decrypt ascii asin atan atan2 avg benchmark bin bit_and bit_count bit_length bit_or cast ceil ceiling char_length character_length coalesce concat concat_ws connection_id conv convert cos cot count curdate current_date current_time current_timestamp current_user curtime database date_add date_format date_sub dayname dayofmonth dayofweek dayofyear decode degrees des_encrypt des_decrypt elt encode encrypt exp export_set extract field find_in_set floor format found_rows from_days from_unixtime get_lock greatest group_unique_users hex ifnull inet_aton inet_ntoa instr interval is_free_lock isnull last_insert_id lcase least left length ln load_file locate log log2 log10 lower lpad ltrim make_set master_pos_wait max md5 mid min mod monthname now nullif oct octet_length ord password period_add period_diff pi position pow power quarter quote radians rand release_lock repeat reverse right round rpad rtrim sec_to_time session_user sha sha1 sign sin soundex space sqrt std stddev strcmp subdate substring substring_index sum sysdate system_user tan time_format time_to_sec to_days trim ucase unique_users unix_timestamp upper user version week weekday yearweek",d="bigint binary bit blob bool char character date datetime dec decimal double enum float float4 float8 int int1 int2 int3 int4 int8 integer long longblob longtext mediumblob mediumint mediumtext middleint nchar numeric real set smallint text time timestamp tinyblob tinyint tinytext varbinary varchar year",e=":= < <= == <> > >= like rlike in xor between";CodeMirror.defineMIME("text/x-sql",{name:"sql",keywords:a(b),functions:a(c),types:a(d),operators:a(e)})}();CodeMirror.defineMode("xml",function(a,b){function h(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if(d=="<"){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(k("atom","]]>")):null:a.match("--")?c(k("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(k("meta",">"))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=k("meta","?>"),"meta";g=a.eat("/")?"closeTag":"openTag",a.eatSpace(),f="";var e;while(e=a.eat(/[^\s\u00a0=<>\"\'\/?]/))f+=e;return b.tokenize=i,"tag"}return d=="&"?(a.eatWhile(/[^;]/),a.eat(";"),"atom"):(a.eatWhile(/[^&<]/),null)}function i(a,b){var c=a.next();return c==">"||c=="/"&&a.eat(">")?(b.tokenize=h,g=c==">"?"endTag":"selfcloseTag","tag"):c=="="?(g="equals",null):/[\'\"]/.test(c)?(b.tokenize=j(c),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function j(a){return function(b,c){while(!b.eol())if(b.next()==a){c.tokenize=i;break}return"string"}}function k(a,b){return function(c,d){while(!c.eol()){if(c.match(b)){d.tokenize=h;break}c.next()}return a}}function n(){for(var a=arguments.length-1;a>=0;a--)l.cc.push(arguments[a])}function o(){return n.apply(null,arguments),!0}function p(a,b){var c=d.doNotIndent.hasOwnProperty(a)||l.context&&l.context.noIndent;l.context={prev:l.context,tagName:a,indent:l.indented,startOfLine:b,noIndent:c}}function q(){l.context&&(l.context=l.context.prev)}function r(a){if(a=="openTag")return l.tagName=f,o(u,s(l.startOfLine));if(a=="closeTag"){var b=!1;return l.context?b=l.context.tagName!=f:b=!0,b&&(m="error"),o(t(b))}return a=="string"?((!l.context||l.context.name!="!cdata")&&p("!cdata"),l.tokenize==h&&q(),o()):o()}function s(a){return function(b){return b=="selfcloseTag"||b=="endTag"&&d.autoSelfClosers.hasOwnProperty(l.tagName.toLowerCase())?o():b=="endTag"?(p(l.tagName,a),o()):o()}}function t(a){return function(b){return a&&(m="error"),b=="endTag"?(q(),o()):(m="error",o(arguments.callee))}}function u(a){return a=="word"?(m="attribute",o(u)):a=="equals"?o(v,u):n()}function v(a){return a=="word"&&d.allowUnquoted?(m="string",o()):a=="string"?o(w):n()}function w(a){return a=="string"?o(w):n()}var c=a.indentUnit,d=b.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0,"!cdata":!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{"!cdata":!0},allowUnquoted:!1},e=b.alignCDATA,f,g,l,m;return{startState:function(){return{tokenize:h,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,b){a.sol()&&(b.startOfLine=!0,b.indented=a.indentation());if(a.eatSpace())return null;m=g=f=null;var c=b.tokenize(a,b);if((c||g)&&c!="comment"){l=b;for(;;){var d=b.cc.pop()||r;if(d(g||c))break}}return b.startOfLine=!1,m||c},indent:function(a,b){var d=a.context;if(d&&d.noIndent)return 0;if(e&&/<!\[CDATA\[/.test(b))return 0;d&&/^<\//.test(b)&&(d=d.prev);while(d&&!d.startOfLine)d=d.prev;return d?d.indent+c:0},compareStates:function(a,b){if(a.indented!=b.indented)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});