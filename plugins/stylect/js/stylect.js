/* Contao Open Source CMS :: Copyright (C) 2005-2011 Leo Feyer :: LGPL license */
window.addEvent("domready",function(){$$("select").each(function(a){if(a.hasClass("tl_chosen"))return;if((active=a.getElement("option[selected]"))!=null)var b=active.get("html");else var b=a.getElement("option").get("html");var c=(new Element("div",{id:a.get("id")+"_styled","class":"styled_select",html:"<span>"+b+"</span><b><i></i></b>",styles:{width:a.getComputedSize().totalWidth-8}})).inject(a,"before");a.hasClass("right-aligned")&&c.setStyle("left",a.getPosition().x),a.hasClass("active")&&c.addClass("active"),a.addEvent("change",function(){var b=a.getElement('option[value="'+a.value+'"]');c.getElement("span").set("html",b.get("html"))}).addEvent("keydown",function(b){(b.key=="up"||b.key=="down")&&setTimeout(function(){a.fireEvent("change")},100)}).addEvent("focus",function(){c.addClass("focused")}).addEvent("blur",function(){c.removeClass("focused")}).setStyle("opacity",0);if(Browser.Engine.webkit||Browser.Engine.trident)a.setStyle("margin-bottom","4px"),c.setStyle("width",c.getStyle("width").toInt()-4)})});